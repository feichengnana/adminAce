var selectL2R=function(){function e(e){var n,s=$(e).find(".selectL").children(),i=$(e).find(".selectR").children();"TABLE"==s[0].nodeName?(n="tbody tr",$selNode=s.find("tr")):"ul"==s[0].nodeName&&(n="li",classWarning="bg-"+classWarning,classSucess="bg-"+classSucess);var a=[];return i.find(n).each(function(){var e=$(this).data("id");a.push(e)}),a}var n=function(e,n){function s(e){t.find(a+"."+o).each(function(){$(this).data("id")==e&&$(this).removeClass(o)})}function i(){"tbody tr"==a&&l.find(a).each(function(e){$(this).find("td:first").text(e+1)})}console.log(e);var a,t=$(e).find(".selectL").children(),l=$(e).find(".selectR").children(),c=$(e).find(".selectL2R-actions"),d="warning",o="success";if("TABLE"==t[0].nodeName?(a="tbody tr",$selNode=t.find("tr")):"UL"==t[0].nodeName&&(a="li",d="bg-"+d,o="bg-"+o),t.find(a).on("click",function(){var e=$(this);e.hasClass(d)?e.removeClass(d):e.hasClass(o)||e.addClass(d)}),l.delegate(a,"click",function(){var e=$(this);e.hasClass(d)?e.removeClass(d):e.addClass(d)}),c.find(".selectL2R-select").on("click",function(){var e=t.find(a+"."+d);if(0==e.length)alert("请先在左侧列表中选择要选择的内容");else{var n=e.removeClass(d).clone();l.append(n),i(),e.addClass(o)}}),c.find(".selectL2R-delete").on("click",function(){var e=l.find(a+"."+d);0==e.length?alert("请先在右侧列表中选择要移除的内容"):e.each(function(){var e=$(this),n=e.data("id");e.remove(),s(n)})}),c.find(".selectL2R-deleteAll").on("click",function(){l.find(a).remove(),t.find(a).removeClass(o)}),c.find(".selectL2R-selectAll").on("click",function(){l.find(a).remove();var e=t.find(a).removeClass(o).removeClass(d).addClass(o);l.append(e.clone().removeClass(o)),i()}),n&&"object"==typeof n){var r=n.length;t.find(a).each(function(){for(var e=$(this),s=e.data("id"),a=0;a<r;a++)if(s==n[a]){l.append(e.clone()),i(),e.addClass(o);break}})}};return{init:function(e,s){n(e,s)},getResult:function(n){return e(n)}}}();