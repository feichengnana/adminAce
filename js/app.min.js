var App=function(){var a=function(a,e,t,i,l,o){$(a).click(function(){var s=$(this),r=s.closest(e).nextAll(t).first(),n=s.find(".fa");if(0!=o&&(o=o||200),r.slideToggle(o),n.toggleClass(i).toggleClass(l),".panel-search-more a"==a){var d=s.closest(".panel-search").find(".panel-search-action").find("button[type=reset]");console.log(d),d.toggleClass("hidden")}})},e=function(){$(".panel-tools-collapse").length&&a(".panel-tools-collapse",".panel-heading",".panel-body","fa-chevron-up","fa-chevron-down"),$(".panel-search-more").length&&a(".panel-search-more a",".panel-search-more",".panel-search-moreBody","fa-angle-double-right","fa-angle-double-up",0),$(".dividerBox-tool-angle").length&&a(".dividerBox-tool-angle",".dividerBox-toolbar",".dividerBox-body","fa-angle-up","fa-angle-down"),$(".panel-tools-close").click(function(){$(this).closest(".panel").slideUp()})},t=function(){$.fn.datepicker&&($.fn.datepicker.defaults.format="yyyy-mm-dd",$.fn.datepicker.defaults.language="zh-CN",$.fn.datepicker.defaults.autoclose=!0)},i=function(){$("form.required-validate").each(function(){var a=$(this);a.bootstrapValidator(),a.on("success.form.bv",function(a){a.preventDefault()})})},l=function(){App.initSlimScroll(".scroller")},o=function(){$().select2&&($.fn.select2.defaults.set("theme","bootstrap"),$(".select2me").select2({placeholder:"Select",width:"auto",allowClear:!0}))};return{init:function(){e(),l(),t(),i(),o()},scrollTo:function(a,e){var t=a&&a.size()>0?a.offset().top:0;a&&(t+=e||-1*a.height()),$("html,body").animate({scrollTop:t},"slow")},initSlimScroll:function(a){$().slimScroll&&$(a).each(function(){if(!$(this).attr("data-initialized")){var a;a=$(this).attr("data-height")?$(this).attr("data-height"):$(this).css("height"),$(this).slimScroll({allowPageScroll:!0,size:"7px",color:$(this).attr("data-handle-color")?$(this).attr("data-handle-color"):"#bbb",wrapperClass:$(this).attr("data-wrapper-class")?$(this).attr("data-wrapper-class"):"slimScrollDiv",railColor:$(this).attr("data-rail-color")?$(this).attr("data-rail-color"):"#eaeaea",position:"right",height:a,alwaysVisible:"1"==$(this).attr("data-always-visible"),railVisible:"1"==$(this).attr("data-rail-visible"),disableFadeOut:!0}),$(this).attr("data-initialized","1")}})},destroySlimScroll:function(a){$().slimScroll&&$(a).each(function(){if("1"===$(this).attr("data-initialized")){$(this).removeAttr("data-initialized"),$(this).removeAttr("style");var a={};$(this).attr("data-handle-color")&&(a["data-handle-color"]=$(this).attr("data-handle-color")),$(this).attr("data-wrapper-class")&&(a["data-wrapper-class"]=$(this).attr("data-wrapper-class")),$(this).attr("data-rail-color")&&(a["data-rail-color"]=$(this).attr("data-rail-color")),$(this).attr("data-always-visible")&&(a["data-always-visible"]=$(this).attr("data-always-visible")),$(this).attr("data-rail-visible")&&(a["data-rail-visible"]=$(this).attr("data-rail-visible")),$(this).slimScroll({wrapperClass:$(this).attr("data-wrapper-class")?$(this).attr("data-wrapper-class"):"slimScrollDiv",destroy:!0});var e=$(this);$.each(a,function(a,t){e.attr(a,t)})}})},scrollTop:function(){App.scrollTo()},blockUI:function(a){var e="";if(e=(a=$.extend(!0,{},a)).animate?'<div class="loading-message '+(a.boxed?"loading-message-boxed":"")+'"><div class="block-spinner-bar"><div class="bounce1"></div><div class="bounce2"></div><div class="bounce3"></div></div></div>':a.iconOnly?'<div class="loading-message '+(a.boxed?"loading-message-boxed":"")+'"><img src="'+this.getGlobalImgPath()+'loading-spinner-grey.gif" align=""></div>':a.textOnly?'<div class="loading-message '+(a.boxed?"loading-message-boxed":"")+'"><span>&nbsp;&nbsp;'+(a.message?a.message:"LOADING...")+"</span></div>":'<div class="loading-message '+(a.boxed?"loading-message-boxed":"")+'"><img src="'+this.getGlobalImgPath()+'loading-spinner-grey.gif" align=""><span>&nbsp;&nbsp;'+(a.message?a.message:"LOADING...")+"</span></div>",a.target){var t=$(a.target);t.height()<=$(window).height()&&(a.cenrerY=!0),t.block({message:e,baseZ:a.zIndex?a.zIndex:1e3,centerY:void 0!==a.cenrerY&&a.cenrerY,css:{top:"10%",border:"0",padding:"0",backgroundColor:"none"},overlayCSS:{backgroundColor:a.overlayColor?a.overlayColor:"#555",opacity:a.boxed?.05:.1,cursor:"wait"}})}else $.blockUI({message:e,baseZ:a.zIndex?a.zIndex:1e3,css:{border:"0",padding:"0",backgroundColor:"none"},overlayCSS:{backgroundColor:a.overlayColor?a.overlayColor:"#555",opacity:a.boxed?.05:.1,cursor:"wait"}})},unblockUI:function(a){a?$(a).unblock({onUnblock:function(){$(a).css("position",""),$(a).css("zoom","")}}):$.unblockUI()},startPageLoading:function(a){a&&a.animate?($(".page-spinner-bar").remove(),$("body").append('<div class="page-spinner-bar"><div class="bounce1"></div><div class="bounce2"></div><div class="bounce3"></div></div>')):($(".page-loading").remove(),$("body").append('<div class="page-loading"><img src="'+this.getGlobalImgPath()+'loading-spinner-grey.gif"/>&nbsp;&nbsp;<span>'+(a&&a.message?a.message:"Loading...")+"</span></div>"))},stopPageLoading:function(){$(".page-loading, .page-spinner-bar").remove()}}}();jQuery(document).ready(function(){App.init(),$(window).resize(function(){App.destroySlimScroll(".page-content.scroller"),App.initSlimScroll(".page-content.scroller"),App.destroySlimScroll("#sidebar .scroller"),App.initSlimScroll("#sidebar .scroller")})});